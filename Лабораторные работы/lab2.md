# Пояснение к программе на языке C (Работа с матрицами)

---

## 1. Подключение библиотек (`#include`)

### `#include <stdio.h>`

**Что это?**  
Это директива препроцессора, которая подключает стандартную библиотеку ввода-вывода.

**Почему это нужно?**  
Без `#include <stdio.h>` невозможно использовать:

- `printf` — вывод текста и чисел на экран
- `scanf` — ввод данных с клавиатуры

Эти функции объявлены именно в библиотеке `stdio.h`, и компилятор должен знать их описание (интерфейс), чтобы корректно скомпилировать программу.

---

### `#include <math.h>`

**Что это?**  
Подключает математическую библиотеку языка C.

**Почему нужно?**  
Используется для работы с математическими функциями, особенно при вычислениях с типом `double`.

Примеры функций:
- `pow()` — возведение в степень
- `sqrt()` — вычисление квадратного корня

В первой лабораторной работе эта библиотека использовалась для вычисления дискриминанта.

---

### `#include <windows.h>`

**Что это?**  
Подключает библиотеку Windows API.

**Зачем она здесь?**  
Используется для корректной работы с русским текстом в консоли Windows.

---

## 2. Настройка кодировки консоли (Windows)

```c
SetConsoleOutputCP(CP_UTF8);
SetConsoleCP(CP_UTF8);
Что это делает?

SetConsoleOutputCP(CP_UTF8); — задаёт кодировку вывода (UTF-8)

SetConsoleCP(CP_UTF8); — задаёт кодировку ввода (UTF-8)

Зачем это нужно?
По умолчанию консоль Windows использует кодировку CP866.
Без смены кодировки русский текст выводился бы некорректно (в виде «кракозябр»).

3. Переменные
Целочисленная переменная
c
Копировать код
int n;
Что это значит?

int — тип данных «целое число»

n — имя переменной

Переменная n используется для хранения размера матрицы.

Матрица типа double
c
Копировать код
double A[n][n];
Что это?
Двумерный массив вещественных чисел, то есть матрица размера n × n.

Почему double?
Тип double позволяет хранить числа с дробной частью, например 3.14.

Суммы диагоналей
c
Копировать код
double sumMain = 0;
double sumSide = 0;
Переменные для накопления:

sumMain — суммы элементов главной диагонали

sumSide — суммы элементов побочной диагонали

4. Ввод данных
Считывание размера матрицы
c
Копировать код
scanf("%d", &n);
Разбор:

scanf — функция ввода с клавиатуры

"%d" — формат целого числа (int)

&n — адрес переменной n

❗ Символ & обязателен, так как scanf должна знать, куда сохранить введённое значение.

Ввод элементов матрицы
c
Копировать код
for (int i = 0; i < n; i++)
    for (int j = 0; j < n; j++)
        scanf("%lf", &A[i][j]);
Объяснение:

внешний цикл (i) — строки

внутренний цикл (j) — столбцы

%lf — форматный спецификатор для double

A[i][j] — элемент матрицы

Таким образом вводятся все n × n элементов матрицы.

5. Вычисление диагоналей
Главная диагональ
c
Копировать код
sumMain += A[i][i];
Пояснение:
Главная диагональ — это элементы, у которых номер строки равен номеру столбца:

css
Копировать код
A[0][0], A[1][1], A[2][2], ...
Побочная диагональ
c
Копировать код
sumSide += A[i][n - 1 - i];
Пояснение:
Побочная диагональ — это элементы вида:

css
Копировать код
A[0][n-1], A[1][n-2], A[2][n-3], ...
6. Вторая матрица (тип int)
Переменная размера
c
Копировать код
int m;
Хранит размер второй (целочисленной) матрицы.

Матрицы int
c
Копировать код
int B[m][m];
int C[m][m];
B — исходная целочисленная матрица

C — матрица результата (квадрат матрицы B)

7. Обнуление матрицы результата
c
Копировать код
C[i][j] = 0;
Матрица C предварительно заполняется нулями, чтобы корректно выполнять операцию += при умножении матриц.

8. Умножение матриц
c
Копировать код
for (int k = 0; k < m; k++)
    C[i][j] += B[i][k] * B[k][j];
Что это делает?
Реализует формулу умножения матриц:

markdown
Копировать код
C[i][j] = B[i][0]*B[0][j] + B[i][1]*B[1][j] + ... + B[i][m−1]*B[m−1][j]
Почему используется три цикла:

i — строки результирующей матрицы

j — столбцы результирующей матрицы

k — перемножение строки на столбец

9. Вывод результата
c
Копировать код
printf("%d ", C[i][j]);
Выводит элементы матрицы C.
После завершения вывода строки выполняется переход на новую строку (\n).

10. Завершение программы
c
Копировать код
return 0;
Сообщает операционной системе, что программа завершилась успешно.

11. Итоговая таблица
Операнд / фрагмент	Что делает	Почему нужен
#include <stdio.h>	подключает ввод-вывод	для printf и scanf
#include <math.h>	математика	pow, sqrt
#include <windows.h>	Windows API	русская кодировка
int	целый тип данных	для размеров и индексов
double	вещественный тип	дробные числа
scanf("%d", &x)	ввод int	ввод данных
scanf("%lf", &y)	ввод double	ввод дробных
for	цикл	повтор операций
A[i][j]	элемент матрицы	доступ к данным
C[i][j] += ...	накопление	умножение матриц
printf	вывод	отображение результата
